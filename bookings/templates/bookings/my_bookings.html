{% extends 'base.html' %}
{% block title %}My Bookings{% endblock %}
{% block content %}
<h1 class="mb-3">My Bookings</h1>
<div class="card"><div class="card-body p-0">
<table class="table table-bordered mb-0">
  <thead><tr><th>ID</th><th>Trip</th><th>Seats</th><th>Total</th><th>Status</th><th></th></tr></thead>
  <tbody>
  {% for b in bookings %}
    <tr>
      <td>{{ b.booking_id }}</td>
      <td>{{ b.travel_option.source }} â†’ {{ b.travel_option.destination }} ({{ b.travel_option.departure_time }})</td>
      <td>{{ b.seats }}</td>
      <td>${{ b.total_price }}</td>
      <td>{{ b.status }}</td>
      <td>
        {% if b.status != 'CANCELLED' %}
          <a class="btn btn-sm btn-outline-danger" href="{% url 'cancel_booking' b.pk %}">Cancel</a>
        {% endif %}
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="6" class="text-center">No bookings yet.</td></tr>
  {% endfor %}
  </tbody>
</table>
</div></div>
<p class="mt-3"><a href="/">Back to options</a></p>
{% endblock %}


